<div [ngClass]="{
    'hidden': !(ready | async),
    'has-bottom-navbar': (cheapestFareFinderService.isCffRoute$ | async) && device.isMobile()
  }">
  <app-alert></app-alert>
  <app-ui-notifications></app-ui-notifications>
  <app-session-notification
    *ngIf="showSessionExpiryDialog"
    (onResetState)="resetState($event)"
  ></app-session-notification>
  <app-navbar></app-navbar>
  <div class="page-wrap clearfix">
    <app-progress-bar [current]="progressStep" *ngIf="progressStep"></app-progress-bar>
    <app-loading-indicator class="loading-indicator" *ngIf="!isRouteLoaded" label="Please wait..."></app-loading-indicator>
    <router-outlet></router-outlet>
  </div>
  <app-footer></app-footer>
</div>

<div [class.hidden]="ready | async">
  <div class="pre-app-load">
    <div class="bf-logo">
      <div class="logotype"></div>
    </div>
    <div class="spinner">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
    </div>
    <p class="wait-msg">Please wait</p>

    <div class="promotions-box">
      <div class="promo-row">
        <div class="promo-row__col-icon">
          <svg viewBox="0 0 50 50" width="24" height="24">
            <path id="nectar" class="cls-3" d="M18.9,23.52l-.88.07v-.24c0-.82.21-1.24.93-1.24s.8.28.8.65S19.61,23.47,18.9,23.52Zm12.55,1.39c0,.36.09.7.76.7a2.44,2.44,0,0,0,1.11-.29V24.12l-1.1.1C31.7,24.26,31.45,24.5,31.45,24.92Zm6.18,10.65c-6.6,9.72-2.41-6.32-19.37-5.22-6,.39-10.8-2.71-9.62-8.61S17.18,9.66,27.12,11.07C36.64,12.42,46.64,22.3,37.62,35.56ZM15.87,22.85c0-1.17-.73-1.82-2.06-1.82a2.87,2.87,0,0,0-1.43.39l-.09-.25h-.92V26.7h1.3V22.48a2.78,2.78,0,0,1,1.13-.22c.5,0,.75.19.75.57V26.7h1.31ZM18,24.69v-.08l1.09-.09c1.18-.11,2.08-.49,2.08-1.8s-1.1-1.78-2.26-1.78a2.14,2.14,0,0,0-2.43,2.42v1.16a2.11,2.11,0,0,0,2.4,2.41,11.39,11.39,0,0,0,2.24-.28L21,25.56a11.86,11.86,0,0,1-2.12.17C18.19,25.74,18,25.31,18,24.69Zm8-3.31-.06,0A4.38,4.38,0,0,0,24.23,21c-1.67,0-2.48,1-2.48,2.9s.81,2.91,2.48,2.91a4.4,4.4,0,0,0,1.71-.32l.06,0V25.27l-.14,0a4.67,4.67,0,0,1-1.63.3c-.81,0-1.16-.5-1.16-1.68s.35-1.68,1.16-1.68a4.65,4.65,0,0,1,1.63.3l.14,0Zm3.63-.21H28.06V19.5l-1.28.36v5.38a1.66,1.66,0,0,0,1.86,1.6,3.13,3.13,0,0,0,.7-.07l.08,0v-1.2l-.12,0a4.12,4.12,0,0,1-.57,0c-.55,0-.66-.19-.66-.47V22.32h1.58Zm5,1.82c0-1.35-.67-2-2.17-2a5.69,5.69,0,0,0-1.86.33l-.06,0v1.23l.15-.05a5.74,5.74,0,0,1,1.78-.31c.74,0,.87.25.87.74h0l-1.1.09c-1.39.11-2.07.71-2.07,1.82a1.81,1.81,0,0,0,2,1.92,3.22,3.22,0,0,0,1.43-.37l.08.23h.91Zm4.13-.53V21.14l-.08,0a4,4,0,0,0-.81-.09,2.87,2.87,0,0,0-1.43.39l-.09-.25H35.4V26.7h1.31V22.48a2.75,2.75,0,0,1,1.13-.22,2.59,2.59,0,0,1,.75.15Z" transform="translate(-2 -2.57)"/>
          </svg>
        </div>
        <div class="promo-row__col-desc">Collect Nectar points with every ticket you buy</div>
      </div>

      <div class="promo-row">
        <div class="promo-row__col-icon">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M6.907 8.635c0-.299.239-.542.533-.542h9.12c.294 0 .533.243.533.542v3.652a.472.472 0 01-.468.476h-9.25a.472.472 0 01-.468-.476V8.635zm8.69 8.449a1.06 1.06 0 01-1.052-1.069c0-.59.471-1.07 1.052-1.07.582 0 1.053.48 1.053 1.07 0 .59-.471 1.069-1.053 1.069zm-7.177 0a1.061 1.061 0 01-1.053-1.069c0-.59.471-1.07 1.053-1.07.581 0 1.052.48 1.052 1.07a1.06 1.06 0 01-1.052 1.069zm-1.263 2.193c.207.345.577.556.976.556h7.949c.415 0 .799-.229 1.001-.598l1.954-3.576c.116-.212.177-.45.177-.692l-.451-7.824a.918.918 0 00-.197-.534C15.973 3.455 8.45 3.257 5.475 6.594a.971.971 0 00-.241.587l-.448 7.755c0 .262.071.519.206.743l2.165 3.598z" transform="translate(-2 -2.57)"/>
          </svg>
        </div>
        <div class="promo-row__col-desc">Buy tickets for travel to any destination in Great Britain</div>
      </div>

      <div class="promo-row">
        <div class="promo-row__col-icon">
          <svg viewBox="0 0 50 50" width="24" height="24">
            <path class="cls-1" d="M24.8,8.6A16.18,16.18,0,1,0,41,24.78,16.18,16.18,0,0,0,24.8,8.6Zm0,29.13A12.93,12.93,0,0,1,14.59,16.86L32.73,35A12.9,12.9,0,0,1,24.8,37.73Zm10.22-5L16.88,14.57A12.93,12.93,0,0,1,35,32.71Z" transform="translate(-2 -2.57)"/>
          </svg>
        </div>
        <div class="promo-row__col-desc">No booking fees</div>
      </div>

      <div class="promo-row">
        <div class="promo-row__col-icon">
          <svg viewBox="0 0 50 50" width="24" height="24">
            <path id="seat" class="cls-3" d="M15,5.42c1.17,0,2.45,10.81,3.86,18.35H34.68a1.78,1.78,0,1,1,0,3.57h-15c.54,2.21,1.1,3.64,1.67,3.57,4.51-.57,17.23-1.57,18.33-.51s-1.54,7.66-1.54,7.66H28.66v4.32a1.69,1.69,0,0,1,0,.25h7.62a1.27,1.27,0,1,1,0,2.55H17.4a1.27,1.27,0,1,1,0-2.55H25a1.75,1.75,0,0,1,0-.25V38.06H16.07L10.77,15.62S9.1,5.43,12.43,5.42" transform="translate(-2 -2.57)"/>
          </svg>
        </div>
        <div class="promo-row__col-desc">Make free seat reservations</div>
      </div>
    </div>
  </div>
</div>
